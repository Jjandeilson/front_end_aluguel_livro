<div class="container">

  <div class="ui-g">
    <div class="ui-g-12">
      <h1>{{ temClienteId ? 'Edição' : 'Cadastro'}} de cliente</h1>
    </div>
  </div>

  <form #form="ngForm" (ngSubmit)="confirmaAcao(form)">
    <div class="ui-g">

      <div class="ui-g-6 ui-sm-12 ui-fluid">
        <label for="nome">Nome</label>
        <input type="text" name="nome" [(ngModel)]="cliente.nome" #nome="ngModel" pInputText
          required minlength="10" maxlength="80" />

        <app-message [control]="nome" error="required" texto="Preencha o campo"></app-message>
        <app-message [control]="nome" error="minlength"
          texto="Deve ter no Mínimo {{nome.errors?.minlength?.requiredLength}} caracteres"></app-message>
      </div>

      <div class="ui-g-3 ui-sm-12 ui-fluid">
        <label for="data">Data de nascimento</label>
        <p-calendar dateFormat="dd/mm/yy" name="data" [(ngModel)]="cliente.dataNascimento" #data="ngModel"
          [showIcon]="true" required></p-calendar>

        <app-message [control]="data" error="required" texto="Preencha o campo"></app-message>
      </div>

      <div class="ui-g-3 ui-sm-12 ui-fluid">
        <label for="rg">RG</label>
        <p-inputMask mask="9.999.999" name="rg" [(ngModel)]="cliente.rg" #rg="ngModel" required></p-inputMask>

        <app-message [control]="rg" error="required" texto="Preencha o campo"></app-message>
      </div>

      <div class="ui-g-4 ui-fluid">
        <label for="logradouro">Logradouro</label>
        <input type="text" name="logradouro" [(ngModel)]="cliente.endereco.logradouro" #logradouro="ngModel" pInputText
          required minlength="10" maxlength="60" />

          <app-message [control]="logradouro" error="required" texto="Preencha o campo"></app-message>
        <app-message [control]="logradouro" error="minlength"
          texto="Deve ter no Mínimo {{logradouro.errors?.minlength?.requiredLength}} caracteres"></app-message>
      </div>

      <div class="ui-g-4 ui-fluid">
        <label for="bairro">Bairro</label>
        <input type="text" name="bairro" [(ngModel)]="cliente.endereco.bairro" #bairro="ngModel" pInputText
          required minlength="6" maxlength="40"/>

        <app-message [control]="bairro" error="required" texto="Preencha o campo"></app-message>
        <app-message [control]="bairro" error="minlength"
          texto="Deve ter no Mínimo {{bairro.errors?.minlength?.requiredLength}} caracteres"></app-message>
      </div>

      <div class="ui-g-4 ui-fluid">
        <label for="complemento">Complemento</label>
        <input type="text" name="complemento" [(ngModel)]="cliente.endereco.complemento" pInputText />
      </div>

      <div class="ui-g-3 ui-fluid">
        <label for="cep">CEP</label>
        <p-inputMask mask="99.999-999" name="cep" [(ngModel)]="cliente.endereco.cep"
           #cep="ngModel" required></p-inputMask>

        <app-message [control]="cep" error="required" texto="Preencha o campo"></app-message>
      </div>

      <div class="ui-g-3 ui-fluid">
        <label for="numero">Número</label>
        <input type="text" name="numero" [(ngModel)]="cliente.endereco.numero" pInputText />
      </div>

      <div class="ui-g-3 ui-fluid">
        <label for="estado">Estado</label>
        <input type="text" name="estado" [(ngModel)]="cliente.endereco.estado" #estado="ngModel" pInputText
           required maxlength="2"/>

        <app-message [control]="estado" error="required" texto="Preencha o campo"
          texto="Preencha com a sigla do estado"></app-message>
      </div>

      <div class="ui-g-3 ui-fluid">
        <label for="cidade">Cidade</label>
        <input type="text" name="cidade" [(ngModel)]="cliente.endereco.cidade" #cidade="ngModel" pInputText
          required minlength="4" maxlength="50"/>

          <app-message [control]="cidade" error="required" texto="Preencha o campo"></app-message>
          <app-message [control]="cidade" error="minlength"
            texto="Deve ter no Mínimo {{cidade.errors?.minlength?.requiredLength}} caracteres"></app-message>
      </div>

      <div class="ui-g-12">
        <button class="botao-espaco" type="submit" pButton label="Salvar" [disabled]="form.invalid"></button>
        <button class="ui-button-warning botao-espaco" type="button" pButton label="Cancelar"
          [disabled]="form.untouched" (click)="confirmaCancelamento(form)"></button>
        <a href="javascript:;" [routerLink]="['/clientes/lista']">Voltar para lista de clientes</a>
      </div>
    </div>

  </form>

</div>

<p-toast position="top-right"></p-toast>
